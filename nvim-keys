#!/bin/bash
# Neovim Keybindings Helper Script
# Usage: nvim-keys [--help]

if [[ "$1" == "--help" ]] || [[ "$1" == "-h" ]]; then
    echo "Usage: nvim-keys [--help]"
    echo "       nvim-keys           - Show all keybindings"
    echo "       nvim-keys --help    - Show this help"
    exit 0
fi

echo "AstroNvim Configuration - Custom Keybindings"
echo "=================================================="
echo ""
echo "Leader key: <Space>"
echo "Local leader: ,"
echo ""

echo "ðŸ“‹ Core Navigation"
echo "-------------------"
echo "  <Leader>?                Show all keybindings (this help)"
echo "  <Leader>1-9              Switch to buffer 1-9"
echo "  <Leader>a/d              Previous/next buffer"
echo "  <Leader>w                Close buffer"
echo "  <Leader>e                Toggle file explorer (right side)"
echo "  <Leader>E                Focus file explorer (right side)"
echo "  <Alt>1-8                 Focus window 1-8"
echo "  <Ctrl+I/O>               Navigate back/forward"
echo "  ]c/[c                    Next/previous git hunk"
echo "  ]d/[d                    Next/previous diagnostic"
echo "  ]j/[j                    Next/previous Jupyter cell"
echo "  ]g/[g                    Next/previous git hunk"
echo ""

echo "ðŸ“‹ Claude Code (<Leader>a)"
echo "---------------------------"
echo "  <Leader>ac               Toggle terminal (with resume)"
echo "  <Leader>aC               Fresh chat (no resume)"
echo "  <Leader>aa/ad            Accept/deny diff changes"
echo "  <Leader>ao               Open all edited files"
echo "  <Leader>as               Send selection (visual)"
echo "  <Leader>ab               Add buffer to context"
echo ""

echo "ðŸ“‹ Buffers (<Leader>b)"
echo "-----------------------"
echo "  <Leader>bb               List buffers"
echo "  <Leader>bd               Delete buffer"
echo "  <Leader>bD               Delete all buffers"
echo "  <Leader>bo               Delete other buffers"
echo "  <Leader>bn/bp            Next/previous buffer"
echo "  <Leader>bs/bS            Save buffer/all buffers"
echo "  <Leader>b1-9             Go to buffer 1-9"
echo "  <Leader>bc               Buffer count"
echo "  <Leader>be               Toggle buffer explorer (right side)"
echo "  <Leader>bE               Focus buffer explorer (right side)"
echo ""

echo "ðŸ“‹ Code/LSP (<Leader>c)"
echo "------------------------"
echo "  <Leader>ca               Code action"
echo "  <Leader>cd/cD            Code definition/declaration"
echo "  <Leader>ci               Code implementation"
echo "  <Leader>cr/cR            Code references/rename"
echo "  <Leader>ct               Code type definition"
echo "  <Leader>ch/cs            Code hover/signature"
echo "  <Leader>cf               Code format"
echo ""

echo "ðŸŽ¯ Multicursor (<Leader>m)"
echo "------------------------"
echo "  <Leader>mc               Multicursor create"
echo "  <Leader>mn               Multicursor pattern"
echo "  <Leader>mC               Multicursor clear"
echo "  <Leader>ma               Multicursor add"
echo ""

echo "ðŸ“‹ Find/Files (<Leader>f)"
echo "--------------------------"
echo "  <Leader>ff               Find files"
echo "  <Leader>fr               Recent files"
echo "  <Leader>fg               Live grep"
echo "  <Leader>fb               Find buffers"
echo "  <Leader>fh               Help tags"
echo "  <Leader>fm               Find marks"
echo "  <Leader>fc               Commands"
echo "  <Leader>fk               Keymaps"
echo "  <Leader>fs/fS            Document/workspace symbols"
echo "  <Leader>fo               Vim options"
echo "  <Leader>fR               Registers"
echo ""

echo "ðŸ“‹ Git (<Leader>g)"
echo "-------------------"
echo "  === Status/Info ==="
echo "  <Leader>gs               Git status"
echo "  <Leader>gb               Git branches"
echo "  <Leader>gc               Git commits"
echo "  <Leader>gC               Buffer commits"
echo "  "
echo "  === Diff Views ==="
echo "  <Leader>gd/gD            Git diff view (open/close)"
echo "  <Leader>gh/gH            File/branch history"
echo "  "
echo "  === File Navigation ==="  
echo "  <Leader>gj               Next changed file"
echo "  <Leader>gk               Previous changed file"
echo "  <Leader>gf               List changed files"
echo "  <Leader>ge               Toggle git explorer (right side)"
echo "  <Leader>gE               Focus git explorer (right side)"
echo "  "
echo "  === Watchlist ==="
echo "  <Leader>gwa              Add file to watchlist"
echo "  <Leader>gwr              Remove file from watchlist"
echo "  <Leader>gwl              Show watchlist"
echo "  <Leader>gwj              Next watchlist file"
echo "  <Leader>gwk              Previous watchlist file"
echo "  <Leader>gwm              Check for changes"
echo "  <Leader>gws              Start auto-monitoring"
echo "  "
echo "  === UI Toggles ==="
echo "  <Leader>gt               Toggle git signs"
echo "  <Leader>gn               Toggle line number highlighting"
echo "  <Leader>gl               Toggle line highlighting"
echo "  <Leader>gw               Toggle word diff"
echo "  <Leader>gT               Toggle blame line"
echo "  <Leader>gr               Refresh git signs"
echo ""

echo "ðŸ”€ Git Hunks (<Leader>h)"
echo "------------------------"
echo "  <Leader>hs               Stage hunk"
echo "  <Leader>hr               Reset hunk"
echo "  <Leader>hS               Stage buffer"
echo "  <Leader>hu               Undo stage hunk"
echo "  <Leader>hR               Reset buffer"
echo "  <Leader>hp               Preview hunk"
echo "  <Leader>hb               Blame line (full)"
echo "  <Leader>hB               Toggle blame line"
echo "  <Leader>hd               Diff this"
echo "  <Leader>hD               Diff this (cached)"
echo "  <Leader>hq               List all hunks in quickfix"
echo "  <Leader>hQ               List buffer hunks in quickfix"
echo "  ]c/[c                    Next/previous git hunk"
echo ""

echo "ðŸ“‹ GitHub (<Leader>G)"
echo "----------------------"
echo "  <Leader>Gi/GI            List/create GitHub issues"
echo "  <Leader>Gp/GP            List/create GitHub PRs"
echo "  <Leader>Gr               List GitHub repos"
echo "  <Leader>Gs               Search GitHub"
echo "  <Leader>Ga/Gl/Gc         Add assignee/label/comment"
echo "  <Leader>GR               Start GitHub review"
echo "  <Leader>Gd/Go/Gm         PR diff/checkout/merge"
echo "  <Leader>Gv/Gw            View PR/repo in browser"
echo ""

echo "ðŸ“‹ Jupyter/Molten (<Leader>j)"
echo "------------------------------"
echo "  <Leader>ji               Initialize Molten"
echo "  <Leader>je               Evaluate operator"
echo "  <Leader>jl               Evaluate line"
echo "  <Leader>jr               Re-evaluate cell"
echo "  <Leader>jo/jh            Show/hide output"
echo "  <Leader>jd               Delete cell"
echo "  <Leader>js/jS/jR         Start/stop/restart kernel"
echo "  <Leader>jk               Toggle kernel status"
echo "  <Leader>jI/jE            Import/export output"
echo ""

echo "ðŸ“‹ Messages/Errors (<Leader>M)"
echo "-------------------------------"
echo "  <Leader>Me               Show errors"
echo "  <Leader>Ma               Show all messages"
echo "  <Leader>Mc               Copy last error"
echo "  <Leader>MC               Copy all errors"
echo "  <Leader>MA               Copy all messages"
echo "  <Leader>Md               Clear messages"
echo ""

echo "ðŸ“‹ Replace/Refactor (<Leader>r)"
echo "--------------------------------"
echo "  <Leader>rr               Replace (Spectre)"
echo "  <Leader>rw               Replace word"
echo "  <Leader>rf               Replace in file"
echo "  <Leader>rc               Replace word (native)"
echo "  <Leader>rn               Rename symbol"
echo ""

echo "ðŸ“‹ Search (<Leader>s)"
echo "----------------------"
echo "  <Leader>ss               Search buffer"
echo "  <Leader>sg               Search project"
echo "  <Leader>sw               Search word"
echo "  <Leader>sW               Search word (whole)"
echo "  <Leader>sh               Search history"
echo "  <Leader>sc               Command history"
echo "  <Leader>sn               Clear search highlight"
echo "  <Leader>sr               Resume last search"
echo ""

echo "ðŸ“‹ Test (<Leader>t)"
echo "--------------------"
echo "  <Leader>tt               Run current test file"
echo "  <Leader>ta               Run all tests"
echo "  <Leader>tn               Run nearest test"
echo ""

echo "ðŸ“‹ UI/Toggles (<Leader>u)"
echo "--------------------------"
echo "  <Leader>uz               Toggle zen mode"
echo "  <Leader>un               Toggle line numbers"
echo "  <Leader>ur               Toggle relative numbers"
echo "  <Leader>uw               Toggle word wrap"
echo "  <Leader>us               Toggle spell check"
echo "  <Leader>ul               Toggle list chars"
echo "  <Leader>uh               Toggle search highlight"
echo "  <Leader>ut               Toggle terminal"
echo "  <Leader>uc               Toggle cursor line"
echo "  <Leader>uC               Toggle cursor column"
echo ""

echo "ðŸ“‹ VSCode Features (<Leader>v)"
echo "-------------------------------"
echo "  === Clipboard ==="
echo "  <Leader>vy               Clipboard history"
echo "  <Leader>vp               Paste from history"
echo "  "
echo "  === Navigation ==="
echo "  <Leader>vl/vh            Next/previous reference"
echo "  <Leader>vv               Smart selection (treesitter)"
echo "  <Leader>vi/vs/vd         Incremental selection expand/scope/shrink"
echo ""

echo ""

echo "ðŸ“‹ Diagnostics (<Leader>x)"
echo "---------------------------"
echo "  <Leader>xx               Show diagnostics"
echo "  <Leader>xl               Diagnostics to loclist"
echo "  <Leader>xq               Diagnostics to qflist"
echo "  <Leader>xn/xp            Next/previous diagnostic"
echo "  <Leader>xN/xP            Next/previous error"
echo ""

echo "ðŸ“‹ Terminal"
echo "------------"
echo "  <Ctrl+Alt>T              Toggle terminal"
echo "  <Ctrl+Alt>Tab1-4         Focus terminal 1-4"
echo ""

echo "ðŸ“‹ Window Navigation"
echo "---------------------"
echo "  <Alt>1-8                 Focus window 1-8"
echo "  <Ctrl+Alt>m              Maximize window"
echo ""

echo "ðŸ“‹ Navigation Improvements"
echo "---------------------------"
echo "  <Ctrl>d                  Scroll down and center"
echo "  <Ctrl>u                  Scroll up and center"
echo "  n                        Next search result centered"
echo "  N                        Previous search result centered"
echo "  ]b/[b                    Next/previous buffer"
echo "  ]d/[d                    Next/previous diagnostic"
echo "  ]c/[c                    Next/previous cell"
echo "  ]g/[g                    Next/previous git hunk"
echo ""

echo "For more information, see CLAUDE.md in the config directory."
echo ""
echo "Usage within Neovim:"
echo "  :Keybindings             Show this help"
echo "  :KeybindHelp             Show this help"
echo ""